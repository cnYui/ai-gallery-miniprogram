# AI画廊小程序

一个基于微信小程序的AI文生图应用，支持用户创作、分享和浏览AI生成的艺术作品。

## 功能特性

- 🎨 **AI文生图**: 基于文本提示生成高质量图片
- 🌓 **主题切换**: 支持明暗主题切换
- 📱 **响应式设计**: 适配不同屏幕尺寸
- 👤 **用户系统**: 微信登录和个人作品管理
- 🖼️ **作品画廊**: 浏览和分享AI生成的作品
- ☁️ **云开发**: 基于微信云开发的后端服务

## 技术栈

- **前端**: 微信小程序 + TypeScript + TDesign
- **后端**: 微信云开发 + 云函数
- **数据库**: 云数据库
- **AI服务**: 通义千问文生图API

## 项目结构

```
miniprogram-3/
├── miniprogram/          # 小程序前端代码
│   ├── pages/           # 页面文件
│   │   ├── index/       # 首页（作品画廊）
│   │   ├── create/      # 创作页面
│   │   ├── result/      # 结果展示页面
│   │   └── profile/     # 个人中心
│   ├── app.ts           # 应用入口
│   ├── app.wxss         # 全局样式
│   └── utils/           # 工具函数
├── cloudfunctions/       # 云函数
│   ├── login/           # 登录云函数
│   └── text2image/      # 文生图云函数
└── docs/                # 文档
```

## 快速开始

### 环境要求

- 微信开发者工具
- Node.js 16+
- 微信小程序账号
- 微信云开发环境

### 安装步骤

1. 克隆项目
```bash
git clone <repository-url>
cd miniprogram-3
```

2. 安装依赖
```bash
npm install
```

3. 配置云开发环境
   - 在微信开发者工具中打开项目
   - 开通云开发服务
   - 修改 `app.ts` 中的云开发环境ID

4. 部署云函数
   - 右键点击 `cloudfunctions/login` 选择「上传并部署」
   - 右键点击 `cloudfunctions/text2image` 选择「上传并部署」

5. 配置API密钥
   - 在云函数 `text2image` 中配置通义千问API密钥
   - 参考 `docs/文生图功能部署说明.md`

### 运行项目

在微信开发者工具中打开项目，点击「编译」即可预览。

## 主要功能

### 1. AI文生图
- 支持中文提示词
- 提供常用标签快速输入
- 支持反向提示词
- 实时生成状态显示

### 2. 主题切换
- 明暗主题无缝切换
- 主题状态持久化存储
- 平滑过渡动画效果

### 3. 用户系统
- 微信一键登录
- 个人作品管理
- 作品发布到画廊

## 部署说明

详细的部署说明请参考：
- [云开发部署说明](./云开发部署说明.md)
- [文生图功能部署说明](./docs/文生图功能部署说明.md)
- [画廊发布功能部署说明](./docs/画廊发布功能部署说明.md)

## 贡献

欢迎提交 Issue 和 Pull Request 来改进这个项目。

## 许可证

MIT License

## 联系方式

如有问题，请通过 Issue 联系。